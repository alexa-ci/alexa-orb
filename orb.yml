version: 2.1
description: # This is a CircleCi orb for Alexa skills

orbs:
  alexa:
    jobs:
      install_job:
        executor: default
        steps:
          - install_command
      my_inline_job:
        parameters:
          greeting_name:
            description: # a helpful description
            type: string
            default: olleh
        executor: my_inline_executor
        steps:
          - my_inline_command:
              greeting_name: <<parameters.greeting_name>>
    commands:
      install_command:
        steps:
          - run: sudo npm i -g ask-cli
          - run: ask -v
          - run: ask api list-skills
      my_inline_command:
        parameters:
          greeting_name:
            type: string
        steps:
          - run: echo "hello <<parameters.greeting_name>>, from the inline command"
    executors:
      my_inline_executor:
        parameters:
          version:
            type: string
            default: "2.4"
        docker:
          - image: circleci/ruby:<<parameters.version>>
      default:
        description: |
          Node 10 runtime environment
        docker:
          - image: circleci/node:<<parameters.node>>
        parameters:
          node:
            default: "10"
            type: string